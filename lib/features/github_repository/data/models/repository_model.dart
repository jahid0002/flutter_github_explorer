// import '../../domain/entities/repository.dart';

// import 'owner_model.dart';

// class RepositoryModel extends RepositoryEntity {
//   const RepositoryModel({
//     required super.id,
//     required super.name,
//     required super.fullName,
//     required super.description,
//     required super.isPrivate,
//     required super.owner,
//     required super.stars,
//     required super.forks,
//     required super.openIssues,
//     required super.language,
//     required super.defaultBranch,
//     required super.visibility,
//   });

//   factory RepositoryModel.fromJson(Map<String, dynamic> json) {
//     return RepositoryModel(
//       id: json['id'],
//       name: json['name'],
//       fullName: json['full_name'],
//       description: json['description'] ?? '',
//       isPrivate: json['private'],
//       owner: OwnerModel.fromJson(json['owner']),
//       stars: json['stargazers_count'],
//       forks: json['forks_count'],
//       openIssues: json['open_issues_count'],
//       language: json['language'] ?? '',
//       defaultBranch: json['default_branch'],
//       visibility: json['visibility'],
//     );
//   }

//   /// For local storage (SharedPreferences / Hive / Isar)
//   Map<String, dynamic> toJson() {
//     return {
//       'id': id,
//       'name': name,
//       'full_name': fullName,
//       'description': description,
//       'private': isPrivate,
//       'owner': (owner as OwnerModel).toJson(),
//       'stargazers_count': stars,
//       'forks_count': forks,
//       'open_issues_count': openIssues,
//       'language': language,
//       'default_branch': defaultBranch,
//       'visibility': visibility,
//     };
//   }
// }

import 'package:flutter_github_explorer/features/github_repository/domain/entities/repository.dart';

import 'owner_model.dart';

class RepositoryModel extends RepositoryEntity {
  const RepositoryModel({
    super.id,
    super.nodeId,
    super.name,
    super.fullName,
    super.isPrivate,
    super.owner,
    super.htmlUrl,
    super.description,
    super.fork,
    super.url,
    super.forksUrl,
    super.keysUrl,
    super.collaboratorsUrl,
    super.teamsUrl,
    super.hooksUrl,
    super.issueEventsUrl,
    super.eventsUrl,
    super.assigneesUrl,
    super.branchesUrl,
    super.tagsUrl,
    super.blobsUrl,
    super.gitTagsUrl,
    super.gitRefsUrl,
    super.treesUrl,
    super.statusesUrl,
    super.languagesUrl,
    super.stargazersUrl,
    super.contributorsUrl,
    super.subscribersUrl,
    super.subscriptionUrl,
    super.commitsUrl,
    super.gitCommitsUrl,
    super.commentsUrl,
    super.issueCommentUrl,
    super.contentsUrl,
    super.compareUrl,
    super.mergesUrl,
    super.archiveUrl,
    super.downloadsUrl,
    super.issuesUrl,
    super.pullsUrl,
    super.milestonesUrl,
    super.notificationsUrl,
    super.labelsUrl,
    super.releasesUrl,
    super.deploymentsUrl,
    super.createdAt,
    super.updatedAt,
    super.pushedAt,
    super.gitUrl,
    super.sshUrl,
    super.cloneUrl,
    super.svnUrl,
    super.homepage,
    super.size,
    super.stargazersCount,
    super.watchersCount,
    super.language,
    super.hasIssues,
    super.hasProjects,
    super.hasDownloads,
    super.hasWiki,
    super.hasPages,
    super.hasDiscussions,
    super.forksCount,
    super.archived,
    super.disabled,
    super.openIssuesCount,
    //  super.license,
    super.allowForking,
    super.isTemplate,
    super.webCommitSignoffRequired,
    super.topics,
    super.visibility,
    super.forks,
    super.openIssues,
    super.watchers,
    super.defaultBranch,
    super.score,
  });

  factory RepositoryModel.fromJson(Map<String, dynamic> json) {
    return RepositoryModel(
      id: json['id'],
      nodeId: json['node_id'],
      name: json['name'],
      fullName: json['full_name'],
      isPrivate: json['private'],
      owner: json['owner'] != null ? OwnerModel.fromJson(json['owner']) : null,
      htmlUrl: json['html_url'],
      description: json['description'],
      fork: json['fork'],
      url: json['url'],
      forksUrl: json['forks_url'],
      keysUrl: json['keys_url'],
      collaboratorsUrl: json['collaborators_url'],
      teamsUrl: json['teams_url'],
      hooksUrl: json['hooks_url'],
      issueEventsUrl: json['issue_events_url'],
      eventsUrl: json['events_url'],
      assigneesUrl: json['assignees_url'],
      branchesUrl: json['branches_url'],
      tagsUrl: json['tags_url'],
      blobsUrl: json['blobs_url'],
      gitTagsUrl: json['git_tags_url'],
      gitRefsUrl: json['git_refs_url'],
      treesUrl: json['trees_url'],
      statusesUrl: json['statuses_url'],
      languagesUrl: json['languages_url'],
      stargazersUrl: json['stargazers_url'],
      contributorsUrl: json['contributors_url'],
      subscribersUrl: json['subscribers_url'],
      subscriptionUrl: json['subscription_url'],
      commitsUrl: json['commits_url'],
      gitCommitsUrl: json['git_commits_url'],
      commentsUrl: json['comments_url'],
      issueCommentUrl: json['issue_comment_url'],
      contentsUrl: json['contents_url'],
      compareUrl: json['compare_url'],
      mergesUrl: json['merges_url'],
      archiveUrl: json['archive_url'],
      downloadsUrl: json['downloads_url'],
      issuesUrl: json['issues_url'],
      pullsUrl: json['pulls_url'],
      milestonesUrl: json['milestones_url'],
      notificationsUrl: json['notifications_url'],
      labelsUrl: json['labels_url'],
      releasesUrl: json['releases_url'],
      deploymentsUrl: json['deployments_url'],
      createdAt: json['created_at'],
      updatedAt: json['updated_at'],
      pushedAt: json['pushed_at'],
      gitUrl: json['git_url'],
      sshUrl: json['ssh_url'],
      cloneUrl: json['clone_url'],
      svnUrl: json['svn_url'],
      homepage: json['homepage'],
      size: json['size'],
      stargazersCount: json['stargazers_count'],
      watchersCount: json['watchers_count'],
      language: json['language'],
      hasIssues: json['has_issues'],
      hasProjects: json['has_projects'],
      hasDownloads: json['has_downloads'],
      hasWiki: json['has_wiki'],
      hasPages: json['has_pages'],
      hasDiscussions: json['has_discussions'],
      forksCount: json['forks_count'],
      archived: json['archived'],
      disabled: json['disabled'],
      openIssuesCount: json['open_issues_count'],
      allowForking: json['allow_forking'],
      isTemplate: json['is_template'],
      webCommitSignoffRequired: json['web_commit_signoff_required'],
      topics: json['topics'] != null ? List<String>.from(json['topics']) : null,
      visibility: json['visibility'],
      forks: json['forks'],
      openIssues: json['open_issues'],
      watchers: json['watchers'],
      defaultBranch: json['default_branch'],
      score: (json['score'] as num?)?.toDouble(),
    );
  }

  Map<String, dynamic> toJson() {
    return {
      'id': id,
      'node_id': nodeId,
      'name': name,
      'full_name': fullName,
      'private': isPrivate,
      'owner': owner != null ? (owner as OwnerModel).toJson() : null,
      'html_url': htmlUrl,
      'description': description,
      'fork': fork,
      'url': url,
      'forks_url': forksUrl,
      'keys_url': keysUrl,
      'collaborators_url': collaboratorsUrl,
      'teams_url': teamsUrl,
      'hooks_url': hooksUrl,
      'issue_events_url': issueEventsUrl,
      'events_url': eventsUrl,
      'assignees_url': assigneesUrl,
      'branches_url': branchesUrl,
      'tags_url': tagsUrl,
      'blobs_url': blobsUrl,
      'git_tags_url': gitTagsUrl,
      'git_refs_url': gitRefsUrl,
      'trees_url': treesUrl,
      'statuses_url': statusesUrl,
      'languages_url': languagesUrl,
      'stargazers_url': stargazersUrl,
      'contributors_url': contributorsUrl,
      'subscribers_url': subscribersUrl,
      'subscription_url': subscriptionUrl,
      'commits_url': commitsUrl,
      'git_commits_url': gitCommitsUrl,
      'comments_url': commentsUrl,
      'issue_comment_url': issueCommentUrl,
      'contents_url': contentsUrl,
      'compare_url': compareUrl,
      'merges_url': mergesUrl,
      'archive_url': archiveUrl,
      'downloads_url': downloadsUrl,
      'issues_url': issuesUrl,
      'pulls_url': pullsUrl,
      'milestones_url': milestonesUrl,
      'notifications_url': notificationsUrl,
      'labels_url': labelsUrl,
      'releases_url': releasesUrl,
      'deployments_url': deploymentsUrl,
      'created_at': createdAt,
      'updated_at': updatedAt,
      'pushed_at': pushedAt,
      'git_url': gitUrl,
      'ssh_url': sshUrl,
      'clone_url': cloneUrl,
      'svn_url': svnUrl,
      'homepage': homepage,
      'size': size,
      'stargazers_count': stargazersCount,
      'watchers_count': watchersCount,
      'language': language,
      'has_issues': hasIssues,
      'has_projects': hasProjects,
      'has_downloads': hasDownloads,
      'has_wiki': hasWiki,
      'has_pages': hasPages,
      'has_discussions': hasDiscussions,
      'forks_count': forksCount,
      'archived': archived,
      'disabled': disabled,
      'open_issues_count': openIssuesCount,
      'allow_forking': allowForking,
      'is_template': isTemplate,
      'web_commit_signoff_required': webCommitSignoffRequired,
      'topics': topics,
      'visibility': visibility,
      'forks': forks,
      'open_issues': openIssues,
      'watchers': watchers,
      'default_branch': defaultBranch,
      'score': score,
    };
  }
}
